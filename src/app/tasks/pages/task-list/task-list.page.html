<ion-header>
  <ion-toolbar>
    <ion-title>Tarefas</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="logout()">
        <ion-icon slot="icon-only" name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <h1 class="ion-text-center" *ngIf="user">Olá {{ user?.name }}</h1>

  <!-- <ion-button expand="block" (click)="onAddTasksClicked()">Adicionar 1000 tarefas</ion-button> -->
  <h2 class="ion-padding-horizontal">Tarefas em aberto</h2>
  <ion-list>
    <ion-item *ngFor="let task of tasks$ | async">
      <ion-label routerLink="/tasks/edit/{{ task.id }}">
        <h2>{{task.title}}</h2>
        <p>{{task.description}}</p>
        <ion-text *ngIf="task.done" color="success">Completa</ion-text>
        <ion-text *ngIf="!task.done" color="danger">Pendente</ion-text>
      </ion-label>
    </ion-item>
  </ion-list>

  <h2 class="ion-padding-horizontal">Tarefas em concluídas</h2>
  <ion-list>
    <ion-item *ngFor="let task of tasksCompleted$ | async">
      <ion-label routerLink="/tasks/edit/{{ task.id }}">
        <h2>{{task.title}}</h2>
        <p>{{task.description}}</p>
        <ion-text *ngIf="task.done" color="success">Completa</ion-text>
        <ion-text *ngIf="!task.done" color="danger">Pendente</ion-text>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button routerLink="/tasks/new">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
